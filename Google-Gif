<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><title>appengine/monorail - infra/infra - Git at Google</title><link rel="stylesheet" type="text/css" href="/+static/base.FgwOs7Bvh5E6-lzR-xJuUQ.cache.css"><link rel="stylesheet" type="text/css" href="/+static/doc.aizEIcp0qpW8JIXIrCB9UQ.cache.css"><link rel="stylesheet" type="text/css" href="/+static/prettify/prettify.AOMOBqJIPcDq491E2ExAAw.cache.css"><!-- default customHeadTagPart --></head><body class="Site"><header class="Site-header"><div class="Header"><a class="Header-image" href="/"><img src="//www.gstatic.com/images/branding/lockups/2x/lockup_git_color_108x24dp.png" width="108" height="24" alt="Google Git"></a><div class="Header-menu"> <a class="Header-menuItem" href="https://accounts.google.com/AccountChooser?service=gerritcodereview&amp;continue=https://chromium.googlesource.com/login/infra/infra/%2B/master/appengine/monorail">Switch user</a> <a class="Header-menuItem" href="https://chromium.googlesource.com/+logout?continue=/infra/infra/%2B/master/appengine/monorail">Sign out</a> <span class="Header-menuItem Header-menuItem--noAction">‪M.shaffar sha‬ &lt;m.shaffar19@gmail.com&gt;</span> </div></div></header><div class="Site-content"><div class="Container "><div class="Breadcrumbs"><a class="Breadcrumbs-crumb" href="/?format=HTML">chromium</a> / <a class="Breadcrumbs-crumb" href="/infra/">infra</a> / <a class="Breadcrumbs-crumb" href="/infra/infra/">infra</a> / <a class="Breadcrumbs-crumb" href="/infra/infra/+/master">master</a> / <a class="Breadcrumbs-crumb" href="/infra/infra/+/master/">.</a> / <a class="Breadcrumbs-crumb" href="/infra/infra/+/master/appengine">appengine</a> / <span class="Breadcrumbs-crumb">monorail</span></div><div class="TreeDetail"><div class="u-sha1 u-monospace TreeDetail-sha1">tree: 29bcaa944cf8468ece600c77ff9632059dfd0245 [<a href="/infra/infra/+log/master/appengine/monorail">path history</a>] <span>[<a href="/infra/infra/+archive/master/appengine/monorail.tar.gz">tgz</a>]</span></div><ol class="FileList"><li class="FileList-item FileList-item--regularFile" title="Regular file - .coveragerc"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/.coveragerc">.coveragerc</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .eslintrc.json"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/.eslintrc.json">.eslintrc.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .expect_tests.cfg"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/.expect_tests.cfg">.expect_tests.cfg</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .expect_tests_pretest.py"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/.expect_tests_pretest.py">.expect_tests_pretest.py</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .gitignore"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/.gitignore">.gitignore</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .style.yapf"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/.style.yapf">.style.yapf</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - .testcoveragerc"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/.testcoveragerc">.testcoveragerc</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - Makefile"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/Makefile">Makefile</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - OWNERS"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/OWNERS">OWNERS</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - PRESUBMIT.py"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/PRESUBMIT.py">PRESUBMIT.py</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - README.md"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/README.md">README.md</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - api/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/api/">api/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - app-cloud.yaml.m4"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/app-cloud.yaml.m4">app-cloud.yaml.m4</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - app.yaml.m4"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/app.yaml.m4">app.yaml.m4</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - appengine_config.py"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/appengine_config.py">appengine_config.py</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - businesslogic/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/businesslogic/">businesslogic/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - codereview.settings"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/codereview.settings">codereview.settings</a></li><li class="FileList-item FileList-item--symlink" title="Symlink - components"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/components">components</a> &#x21e8; <a href="/infra/infra/+/master/luci/appengine/components/components">../../luci/appengine/components/components</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - cron.yaml"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/cron.yaml">cron.yaml</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - dispatch.yaml"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/dispatch.yaml">dispatch.yaml</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - doc/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/doc/">doc/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - dos.yaml"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/dos.yaml">dos.yaml</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - features/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/features/">features/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - framework/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/framework/">framework/</a></li><li class="FileList-item FileList-item--symlink" title="Symlink - gae.py"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/gae.py">gae.py</a> &#x21e8; ../../../infra/luci/appengine/components/tools/gae.py</li><li class="FileList-item FileList-item--symlink" title="Symlink - gae_ts_mon"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/gae_ts_mon">gae_ts_mon</a> &#x21e8; ../../../infra/appengine_module/gae_ts_mon</li><li class="FileList-item FileList-item--gitTree" title="Tree - google_proto/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/google_proto/">google_proto/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - jsconfig.json"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/jsconfig.json">jsconfig.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - karma.conf.js"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/karma.conf.js">karma.conf.js</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - module-api-cloud.yaml.m4"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/module-api-cloud.yaml.m4">module-api-cloud.yaml.m4</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - module-api.yaml.m4"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/module-api.yaml.m4">module-api.yaml.m4</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - module-besearch-cloud.yaml.m4"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/module-besearch-cloud.yaml.m4">module-besearch-cloud.yaml.m4</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - module-besearch.yaml.m4"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/module-besearch.yaml.m4">module-besearch.yaml.m4</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - module-latency-insensitive-cloud.yaml.m4"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/module-latency-insensitive-cloud.yaml.m4">module-latency-insensitive-cloud.yaml.m4</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - module-latency-insensitive.yaml.m4"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/module-latency-insensitive.yaml.m4">module-latency-insensitive.yaml.m4</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - monorailapp.py"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/monorailapp.py">monorailapp.py</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - package-lock.json"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/package-lock.json">package-lock.json</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - package.json"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/package.json">package.json</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - project/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/project/">project/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - proto/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/proto/">proto/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - queue.yaml"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/queue.yaml">queue.yaml</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - registerpages.py"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/registerpages.py">registerpages.py</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - schema/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/schema/">schema/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - search/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/search/">search/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - services/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/services/">services/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - settings.py"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/settings.py">settings.py</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - sitewide/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/sitewide/">sitewide/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - static/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/static/">static/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - static_src/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/static_src/">static_src/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - templates/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/templates/">templates/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - testing/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/testing/">testing/</a></li><li class="FileList-item FileList-item--symlink" title="Symlink - testing_utils"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/testing_utils">testing_utils</a> &#x21e8; ../../../infra/appengine_module/testing_utils/</li><li class="FileList-item FileList-item--gitTree" title="Tree - third_party/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/third_party/">third_party/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - tools/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/tools/">tools/</a></li><li class="FileList-item FileList-item--gitTree" title="Tree - tracker/"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/tracker/">tracker/</a></li><li class="FileList-item FileList-item--regularFile" title="Regular file - webpack.config.js"><a class="FileList-itemLink" href="/infra/infra/+/master/appengine/monorail/webpack.config.js">webpack.config.js</a></li></ol><div class="InlineReadme"><div class="InlineReadme-path">appengine/monorail/README.md</div><div class="doc"><h1><a class="h" name="Monorail-Issue-Tracker" href="#Monorail-Issue-Tracker"><span></span></a><a class="h" name="monorail-issue-tracker" href="#monorail-issue-tracker"><span></span></a>Monorail Issue Tracker</h1><p>Monorail is the Issue Tracker used by the Chromium project and other related projects. It is hosted at <a href="https://bugs.chromium.org">bugs.chromium.org</a>.</p><p>If you wish to file a bug against Monorail itself, please do so in our <a href="https://bugs.chromium.org/p/monorail/issues/entry">self-hosting tracker</a>. We also discuss development of Monorail at <code class="code">infra-dev@chromium.org</code>.</p><h1><a class="h" name="Getting-started-with-Monorail-development" href="#Getting-started-with-Monorail-development"><span></span></a><a class="h" name="getting-started-with-monorail-development" href="#getting-started-with-monorail-development"><span></span></a>Getting started with Monorail development</h1><p>Here&#39;s how to run Monorail locally for development on MacOS and Debian stretch/buster or its derivatives.</p><ol><li>You need to <a href="https://commondatastorage.googleapis.com/chrome-infra-docs/flat/depot_tools/docs/html/depot_tools_tutorial.html#_setting_up">get the Chrome Infra depot_tools commands</a> to check out the source code and all its related dependencies and to be able to send changes for review.</li><li>Check out the Monorail source code<ol><li><code class="code">cd /path/to/empty/workdir</code></li><li><code class="code">fetch infra</code></li><li><code class="code">cd infra/appengine/monorail</code></li></ol></li><li>Make sure you have the AppEngine SDK:<ol><li>It should be fetched for you by step 1 above (during runhooks)</li><li>Otherwise, you can download it from <a href="https://developers.google.com/appengine/downloads#Google_App_Engine_SDK_for_Python">https://developers.google.com/appengine/downloads#Google_App_Engine_SDK_for_Python</a></li></ol></li><li>Install MySQL v5.6.<ol><li>On a Debian derivative, download and unpack <a href="https://dev.mysql.com/get/Downloads/MySQL-5.6/mysql-server_5.6.40-1ubuntu14.04_amd64.deb-bundle.tar">this bundle</a>:<ol><li><code class="code">tar -xf mysql-server_5.6.40-1ubuntu14.04_amd64.deb-bundle.tar</code></li></ol></li><li>Install the packages in the order of <code class="code">mysql-common</code>,<code class="code">mysql-community-client</code>, <code class="code">mysql-client</code>, then <code class="code">mysql-community-server</code>.</li><li>As of March 2020, MacOS MySQL setup will look something like this:<pre class="code">1. Install docker
2. Run MySQL@5.6 in docker
3. Install MySQL locally (only needed for MySQL-python)
4. Set MySQL user passwords
5. Install MySQL-python
6. Initialize database with tables
7. Run the app locally
</pre><ol><li>Install <a href="https://docs.docker.com/docker-for-mac/install/">docker for mac</a>.</li><li>Start your docker container named mysql for MySQL v5.6.<ol><li><code class="code">docker run --name mysql -e MYSQL_ROOT_PASSWORD=my-secret-pw -p 3306:3306 -d mysql:5.6</code></li></ol></li><li>Use <a href="https://brew.sh/">homebrew</a> to install MySQL v5.6 on your system for its configs to install MySQLdb later. We will be using the docker container&#39;s MySQL instance.<ol><li><code class="code">brew install mysql@5.6</code></li></ol></li></ol></li><li>Otherwise, download from the <a href="http://dev.mysql.com/downloads/mysql/5.6.html#downloads">official page</a>.<ol><li><strong>Do not download v5.7 (as of April 2016)</strong></li></ol></li></ol></li><li>Get the database backend configured and running:<ol><li>On Debian<ol><li>Allow passwordless authentication from non-root users:<ol><li><code class="code">sudo mysql -uroot mysql -e &quot;UPDATE user SET host=&#39;%&#39;, plugin=&#39;&#39; WHERE user=&#39;root&#39;; FLUSH PRIVILEGES;&quot;</code></li></ol></li><li>Disable <code class="code">STRICT_TRANS_TABLES</code><ol><li><code class="code">echo -e &quot;[mysqld]\nsql_mode = ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION&quot; | sudo tee /etc/mysql/conf.d/99-sql-mode.cnf</code></li></ol></li><li><code class="code">sudo /etc/init.d/mysql restart</code></li></ol></li><li>On MacOS<ol><li>Enter the docker container and update its authentication.<ol><li><code class="code">docker exec -it mysql bash</code></li><li><code class="code">mysqladmin -u root -p&#39;my-secret-pw&#39; password &#39;&#39;</code></li><li><code class="code">mysql -uroot mysql -e &quot;UPDATE user SET host=&#39;172.17.0.1&#39;, plugin=&#39;&#39; WHERE user=&#39;root&#39;; FLUSH PRIVILEGES; exit;&quot;</code><ol><li>We set the host to 172.17.0.1 to match the docker container. Your docker container may be at a different IP, you use <code class="code">docker network inspect bridge</code> from another terminal to verify your container&#39;s IP.</li></ol></li></ol></li><li>Exit the docker container<ol><li><code class="code">exit</code></li></ol></li></ol></li></ol></li><li>Install Python MySQLdb.<ol><li>On Debian, use apt-get:<ol><li><code class="code">sudo apt-get install python-mysqldb</code></li></ol></li><li>On MacOS, use pip<ol><li><code class="code">export LIBRARY_PATH=$LIBRARY_PATH:/usr/local/opt/openssl/lib/</code></li><li>Check if you have pip, if you don&#39;t, install it first<ol><li><code class="code">sudo easy_install pip</code></li></ol></li><li><code class="code">pip install MYSQL-python</code></li></ol></li><li>Otherwise, download from <a href="http://sourceforge.net/projects/mysql-python/">http://sourceforge.net/projects/mysql-python/</a><ol><li>Follow instructions to install.</li><li>If needed, add these lines to your ~/.profile file and restart on MacOS 10.8:<ol><li>setenv DYLD_LIBRARY_PATH /usr/local/mysql/lib/</li><li>setenv VERSIONER_PYTHON_PREFER_64_BIT no</li><li>setenv VERSIONER_PYTHON_PREFER_32_BIT yes</li></ol></li><li>In Mac OSX 10.11.1, if you see errors about failing to import MySQLdb or that _mysql.so references an untrusted relative path, then run: <code class="code">sudo install_name_tool -change libmysqlclient.18.dylib \ /usr/local/mysql/lib/libmysqlclient.18.dylib \ /Library/Python/2.7/site-packages/_mysql.so</code></li></ol></li></ol></li><li>Set up one primary SQL database. (You can keep the same sharding options in settings.py that you have configured for production.).<ol><li>On Debian<ol><li><code class="code">mysql --user=root -e &#39;CREATE DATABASE monorail;&#39;</code></li><li><code class="code">mysql --user=root monorail &lt; schema/framework.sql</code></li><li><code class="code">mysql --user=root monorail &lt; schema/project.sql</code></li><li><code class="code">mysql --user=root monorail &lt; schema/tracker.sql</code></li></ol></li><li>On MacOS<ol><li>Install your schema into the docker container<ol><li><code class="code">docker cp schema/. mysql:/schema</code></li><li><code class="code">docker exec -it mysql bash</code></li><li><code class="code">mysql --user=root monorail &lt; schema/framework.sql</code></li><li><code class="code">mysql --user=root monorail &lt; schema/project.sql</code></li><li><code class="code">mysql --user=root monorail &lt; schema/tracker.sql</code></li></ol></li></ol></li></ol></li><li>Configure the site defaults in settings.py.  You can leave it as-is for now.</li><li>Set up the front-end development environment:<ol><li>On Debian<ol><li><code class="code">eval `../../go/env.py`</code> -- you&#39;ll need to run this in any shell you wish to use for developing Monorail. It will add some key directories to your <code class="code">$PATH</code>.</li><li><code class="code">npm install</code></li><li>Install build requirements:<ol><li><code class="code">sudo apt-get install build-essential automake</code></li></ol></li></ol></li><li>On MacOS<ol><li>Install npm<ol><li><code class="code">brew install nvm</code></li><li>See the brew instructions on updating your shell&#39;s configuration</li><li><code class="code">nvm install 12.13.0</code></li><li><code class="code">npm install</code></li></ol></li></ol></li></ol></li><li>Run the app:<ol><li><code class="code">make serve</code></li></ol></li><li>Browse the app at localhost:8080 your browser.</li><li>Optional: Create/modify your Monorail User row in the database and make that user a site admin. You will need to be a site admin to gain access to create projects through the UI.<ol><li><code class="code">mysql --user=root monorail -e &quot;UPDATE User SET is_site_admin = TRUE WHERE email = &#39;test@example.com&#39;;&quot;</code></li><li>If the admin change isn&#39;t immediately apparent, you may need to restart your local dev appserver.</li></ol></li></ol><p>Instructions for deploying Monorail to an existing instance or setting up a new instance are <a href="monorail/doc/deployment.md">here</a>.</p><p>Here&#39;s how to run unit tests from the command-line:</p><h2><a class="h" name="Testing" href="#Testing"><span></span></a><a class="h" name="testing" href="#testing"><span></span></a>Testing</h2><p>To run all Python unit tests, in the <code class="code">appengine/monorail</code> directory run:</p><pre class="code">make test
</pre><p>For quick debugging, if you need to run just one test you can do the following. For instance for the test <code class="code">IssueServiceTest.testUpdateIssues_Normal</code> in <code class="code">services/test/issue_svc_test.py</code>:</p><pre class="code">../../test.py test appengine/monorail:services.test.issue_svc_test.IssueServiceTest.testUpdateIssues_Normal --no-coverage
</pre><h3><a class="h" name="Frontend-testing" href="#Frontend-testing"><span></span></a><a class="h" name="frontend-testing" href="#frontend-testing"><span></span></a>Frontend testing</h3><p>To run the frontend tests for Monorail, you first need to set up your Go environment. From the Monorail directory, run:</p><pre class="code">eval `../../go/env.py`
</pre><p>Then, to run the frontend tests, run:</p><pre class="code">make karma
</pre><p>If you want to skip the coverage for karma, run:</p><pre class="code">make karma_debug
</pre><p>To run only one test or a subset of tests, you can add <code class="code">.only</code> to the test function you want to isolate:</p><pre class="code"><span class="com">// Run one test.</span><span class="pln">
it</span><span class="pun">.</span><span class="pln">only</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
</span><span class="pun">});</span><span class="pln">

</span><span class="com">// Run a subset of tests.</span><span class="pln">
describe</span><span class="pun">.</span><span class="pln">only</span><span class="pun">(()</span><span class="pln"> </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
  </span><span class="pun">...</span><span class="pln">
</span><span class="pun">});</span><span class="pln">
</span></pre><p>Just remember to remove them before you upload your CL.</p><h2><a class="h" name="Troubleshooting" href="#Troubleshooting"><span></span></a><a class="h" name="troubleshooting" href="#troubleshooting"><span></span></a>Troubleshooting</h2><ul><li><code class="code">TypeError: connect() got an unexpected keyword argument &#39;charset&#39;</code></li></ul><p>This error occurs when <code class="code">dev_appserver</code> cannot find the MySQLdb library.  Try installing it via sudo apt-get install python-mysqldb.</p><ul><li><code class="code">TypeError: connect() argument 6 must be string, not None</code></li></ul><p>This occurs when your mysql server is not running.  Check if it is running with <code class="code">ps aux | grep mysqld</code>.  Start it up with /etc/init.d/mysqld start on linux, or just mysqld.</p><ul><li>dev_appserver says <code class="code">OSError: [Errno 24] Too many open files</code> and then lists out all source files</li></ul><p>dev_appserver wants to reload source files that you have changed in the editor, however that feature does not seem to work well with multiple GAE modules and instances running in different processes.  The workaround is to control-C or <code class="code">kill</code> the dev_appserver processes and restart them.</p><ul><li><code class="code">IntegrityError: (1364, &quot;Field &#39;comment_id&#39; doesn&#39;t have a default value&quot;)</code> happens when trying to file or update an issue</li></ul><p>In some versions of SQL, the <code class="code">STRICT_TRANS_TABLES</code> option is set by default. You&#39;ll have to disable this option to stop this error.</p><ul><li><code class="code">ImportError: No module named six.moves</code></li></ul><p>You may not have six.moves in your virtual environment and you may need to install it.</p><ol><li>Determine that python and pip versions are possibly in vpython-root<ol><li><code class="code">which python</code></li><li><code class="code">which pip</code></li></ol></li><li>If your python and pip are in vpython-root<ol><li><code class="code">sudo `which python` `which pip` install six</code></li></ol></li></ol><h1><a class="h" name="Development-resources" href="#Development-resources"><span></span></a><a class="h" name="development-resources" href="#development-resources"><span></span></a>Development resources</h1><h2><a class="h" name="Supported-browsers" href="#Supported-browsers"><span></span></a><a class="h" name="supported-browsers" href="#supported-browsers"><span></span></a>Supported browsers</h2><p>Monorail supports all browsers defined in the <a href="https://chromium.googlesource.com/infra/infra/+/master/doc/front_end.md">Chrome Ops guidelines</a>.</p><p>File a browser compatability bug <a href="https://bugs.chromium.org/p/monorail/issues/entry?labels=Type-Defect,Priority-Medium,BrowserCompat">here</a>.</p><h2><a class="h" name="Frontend-code-practices" href="#Frontend-code-practices"><span></span></a><a class="h" name="frontend-code-practices" href="#frontend-code-practices"><span></span></a>Frontend code practices</h2><p>See: <a href="monorail/doc/code-practices/frontend.md">Monorail Frontend Code Practices</a></p><h2><a class="h" name="Monorail_s-design" href="#Monorail_s-design"><span></span></a><a class="h" name="monorail_s-design" href="#monorail_s-design"><span></span></a>Monorail&#39;s design</h2><ul><li><a href="monorail/doc/design/data-storage.md">Monorail Data Storage</a></li><li><a href="monorail/doc/design/emails.md">Monorail Email Design</a></li><li><a href="monorail/doc/design/how-search-works.md">How Search Works in Monorail</a></li><li><a href="monorail/doc/design/source-code-organization.md">Monorail Source Code Organization</a></li><li><a href="monorail/doc/design/testing-strategy.md">Monorail Testing Strategy</a></li></ul><h2><a class="h" name="Triage-process" href="#Triage-process"><span></span></a><a class="h" name="triage-process" href="#triage-process"><span></span></a>Triage process</h2><p>See: <a href="monorail/doc/triage.md">Monorail Triage Guide</a></p><h2><a class="h" name="Release-process" href="#Release-process"><span></span></a><a class="h" name="release-process" href="#release-process"><span></span></a>Release process</h2><p>See: <a href="monorail/doc/deployment.md">Monorail Deployment</a></p><h1><a class="h" name="User-guide" href="#User-guide"><span></span></a><a class="h" name="user-guide" href="#user-guide"><span></span></a>User guide</h1><p>For information on how to use Monorail, see the <a href="monorail/doc/userguide/README.md">Monorail User Guide</a>.</p><h2><a class="h" name="Setting-up-a-new-instance-of-Monorail" href="#Setting-up-a-new-instance-of-Monorail"><span></span></a><a class="h" name="setting-up-a-new-instance-of-monorail" href="#setting-up-a-new-instance-of-monorail"><span></span></a>Setting up a new instance of Monorail</h2><p>See: <a href="monorail/doc/instance.md">Creating a new Monorail instance</a></p></div></div></div></div> <!-- Container --></div> <!-- Site-content --><footer class="Site-footer"><div class="Footer"><span class="Footer-poweredBy">Powered by <a href="https://gerrit.googlesource.com/gitiles/">Gitiles</a>| <a href="https://policies.google.com/privacy">Privacy</a></span><span class="Footer-formats"><a class="u-monospace Footer-formatsItem" href="?format=TEXT">txt</a> <a class="u-monospace Footer-formatsItem" href="?format=JSON">json</a></span></div></footer></body></html>
